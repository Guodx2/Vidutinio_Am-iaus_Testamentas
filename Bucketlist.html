<!DOCTYPE hyml>

<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="with=device-width, initial-scale=1.0">
    <title>Gyvenimo Pabaigos Planuoklis</title>
    <link rel="stylesheet" href="Stilius.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tilt+Neon&display=swap" rel="stylesheet">
    <link 
    href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css" 
    rel="stylesheet"  type='text/css'>
    <link rel="stylesheet" href=
    "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.css">
    </link>
</head>

<!-----------Header----------->
<body>
<section class="header-laidojimas">
    <nav>
        <a href="Home.html"><img src="images/logo1.png"></a>
        <div class="menu-bar">
            <a href="Laidojimo budai.html"><button class="menu-button"><i class="fa-solid fa-church"></i>Laidojimas</button></a>
            <a href="Home.html"><button class="menu-button"><i class="fa-solid fa-question"></i>Klausimynas</button></a>
            <div class="nav-dropdown">
                <button class="nav-dropbtn"><i class="fa-solid fa-person"></i>Paskyra</button>
                <div class="nav-dropdown-content">
                    <a href="Ivertinimai.html"><i class="fa-solid fa-star" style="padding-right: 15px;"></i>Įvertinimai</a>
                    <a href="Paskyros perziura.html"><i class="far fa-eye" style="padding-right: 15px;"></i>Peržiūrėti</a>
                    <a href="Pradzia.html"><i class="fa-solid fa-right-from-bracket" style="padding-right: 15px;"></i>Atsijungti</a>
                </div>
            </div>
        </div>
    </nav>
</section>

<!----------Svečių sąrašas----------->

<section class="bucketlist">
    <label class="sveciai" for="story"><strong>🍺 Čia galite matyti ir susidaryti savo darbų, kuriuos norite atlikti prieš numirštant, sąrašą</strong></label>
    
    <body>
        <div class="container">
            <br><br>
            <h3>Pridėti nauja veiklą</h3>
            <hr style="border:2px solid rgba(11, 47, 71, 0.7); margin-left:5%; margin-right:5%;">
            <p>
                <input id="new-task" type="text"><button>Pridėti</button>
            </p>
            <br><br>
    
            <h3>Sąrašas</h3>
            <hr style="border:2px solid rgba(11, 47, 71, 0.7); margin-left:5%; margin-right:5%;">
            <ul id="incomplete-tasks">
                <li><input type="checkbox"><label>Pasiplaukiojimas su rykliais dėvint balerinos sijoną</label><input type="text"><button class="edit">Redaguoti</button><button class="delete">Ištrinti</button></li>
                <li><input type="checkbox"><label>Aplankyti kiekvieną žemyną per 30 dienų</label><input type="text"><button class="edit">Redaguoti</button><button class="delete">Ištrinti</button></li> 
                <li><input type="checkbox"><label>Šokimas su virve nuo Eifelio bokšto</label><input type="text" ><button class="edit">Redaguoti</button><button class="delete">Ištrinti</button></li> 
                <li><input type="checkbox"><label>Sniego mūšis paplūdimyje</label><input type="text"><button class="edit">Redaguoti</button><button class="delete">Ištrinti</button></li> 
                <li><input type="checkbox"><label>Išmokti 10 kalbų per vienerius metus</label><input type="text"><button class="edit">Redaguoti</button><button class="delete">Ištrinti</button></li> 
                <li><input type="checkbox"><label>Padaryti tikro dydžio Taj Mahal modelį iš guminukų</label><input type="text"><button class="edit">Redaguoti</button><button class="delete">Ištrinti</button></li> 
                <li><input type="checkbox"><label>Aplankyti visus pasaulio aukščiausius pastatus ir užlipti į kiekvieną iš jų</label><input type="text"><button class="edit">Redaguoti</button><button class="delete">Ištrinti</button></li> 
                <li><input type="checkbox"><label>Pastatyk namelį medyje, kuris galėtų apgyvendinti visą kaimą</label><input type="text"><button class="edit">Redaguoti</button><button class="delete">Ištrinti</button></li> 
                <li><input type="checkbox"><label>Safaryje pagauti liūtą plikomis rankomis</label><input type="text"><button class="edit">Redaguoti</button><button class="delete">Ištrinti</button></li> 
                <li><input type="checkbox"><label>Šampano vonia</label><input type="text"><button class="edit">Redaguoti</button><button class="delete">Ištrinti</button></li> 
                <li><input type="checkbox"><label>Piknikas Everesto viršūnėje</label><input type="text"><button class="edit">Redaguoti</button><button class="delete">Ištrinti</button></li> 
                <li><input type="checkbox"><label> Su mašina nuvažiuoti nuo skardžio ir nusileisti (optional) saugiai</label><input type="text"><button class="edit">Redaguoti</button><button class="delete">Ištrinti</button></li> 
            </ul>
            <br><br><br>
            <h3>Atlikta</h3>
            <hr style="border:2px solid rgba(11, 47, 71, 0.7); margin-left:5%; margin-right:5%;">
            <ul id="completed-tasks">
                <!-- <li><input type="checkbox" checked><label>See the Doctor</label><input type="text"><button class="edit">Edit</button><button class="delete">Delete</button></li> -->
            </ul>
        </div>
    </body>

</section>
<section class="placeholder">
    <a href="Testamentas.html"><button class="patvirtinti"><i class="fa-solid fa-check" style="margin-right:15px"></i>Patvirtinti</button></a>
    <br><br><br>
</section>


<!----------Footer----------->

<section class="footer">
    <h2>Nuorodos</h2>
    <p>Pateikiame nuorodas į aktualiausius puslapius.</p>

    <div class="row">
        <div class="column"><a href="https://teams.microsoft.com/_#/school/conversations/4?threadId=19:63dc818b06224744989dcf8fe9a6d0c1@thread.tacv2&ctx=channel"><i class="fa-solid fa-people-group"></i></a></div>
        <div class="column"><a href="https://moodle.ktu.edu/course/view.php?id=3169"><i class="fa-solid fa-book"></i></a></div>
    </div>
</section>

</body>

<script>
    var taskInput = document.getElementById("new-task"); //new-task
    var addButton = document.getElementsByTagName("button")[3]; //first button
    var incompleteTasksHolder = document.getElementById("incomplete-tasks"); //incomplete-tasks
    var completedTasksHolder = document.getElementById("completed-tasks"); //completed-tasks

    //New Task List Item
    var createNewTaskElement = function(taskString) {
        //Create List Item
        var listItem = document.createElement("li");

        //input (checkbox)
        var checkBox = document.createElement("input"); // checkbox
        //label
        var label = document.createElement("label");
        //input (text)
        var editInput = document.createElement("input"); // text
        //button.edit
        var editButton = document.createElement("button");
        //button.delete
        var deleteButton = document.createElement("button");

        //Each element needs modifying

        checkBox.type = "checkbox";
        editInput.type = "text";

        editButton.innerText = "Redaguoti";
        editButton.className = "edit";
        deleteButton.innerText = "Ištrinti";
        deleteButton.className = "delete";

        label.innerText = taskString;

        //Each element needs appending
        listItem.appendChild(checkBox);
        listItem.appendChild(label);
        listItem.appendChild(editInput);
        listItem.appendChild(editButton);
        listItem.appendChild(deleteButton);
 
        return listItem;
    }

    //Add a new task
    var addTask = function() {
        console.log("Add task...");
        //Create a new list item with the text from #new-task:
        var listItem = createNewTaskElement(taskInput.value);
        //Append listItem to incompleteTasksHolder
        incompleteTasksHolder.appendChild(listItem);
        bindTaskEvents(listItem, taskCompleted);

        taskInput.value = "";
    }

    //Edit an existing task
    var editTask = function() {
        console.log("Edit task...");

        var listItem = this.parentNode;

        var editInput = listItem.querySelector("input[type=text");
        var label = listItem.querySelector("label");

        var containsClass = listItem.classList.contains("editMode");

        //if the class of the parent is .editMode
        if (containsClass) {
            //Switch from .editMode
            //label text become the input's value
            label.innerText = editInput.value;
        } else {
            //Switch to .editMode
            //input value becomes the label's text
            editInput.value = label.innerText;
        }

        //Toggle .editMode on the list item
        listItem.classList.toggle("editMode");

    }

    //Delete an existing task
    var deleteTask = function() {
        console.log("Delete task...");
        var listItem = this.parentNode;
        var ul = listItem.parentNode;

        //Remove the parent list item from the ul
        ul.removeChild(listItem);
    }

    //Mark a task as complete
    var taskCompleted = function() {
        console.log("Task complete...");
        //Append the task list item to the #completed-tasks
        var listItem = this.parentNode;
        completedTasksHolder.appendChild(listItem);
        bindTaskEvents(listItem, taskIncomplete);
    }

    //Mark a task as incomplete
    var taskIncomplete = function() {
        console.log("Task incomplete...");
        //Append the task list item to the #incomplete-tasks
        var listItem = this.parentNode;
        incompleteTasksHolder.appendChild(listItem);
        bindTaskEvents(listItem, taskCompleted);
    }

    var bindTaskEvents = function(taskListItem, checkBoxEventHandler) {
        console.log("Bind list item events");
        //select taskListItem's children
        var checkBox = taskListItem.querySelector("input[type=checkbox]");
        var editButton = taskListItem.querySelector("button.edit");
        var deleteButton = taskListItem.querySelector("button.delete");

        //bind editTask to edit button
        editButton.onclick = editTask;

        //bind deleteTask to delete button
        deleteButton.onclick = deleteTask;

        //bind checkBoxEventHandler to checkbox
        checkBox.onchange = checkBoxEventHandler;
    }

    // var ajaxRequest = function() {
    // 	console.log("AJAX request");
    // }

    //Set the click handler to the addTask function
    addButton.addEventListener("click", addTask);
    //addButton.addEventListener("click", ajaxRequest);

    //cycle over incompleteTasksHolder ul list items
    for (var i = 0; i < incompleteTasksHolder.children.length; i++) {
        //bind events to list item's children (taskCompleted)
        bindTaskEvents(incompleteTasksHolder.children[i], taskCompleted);
    }

    //cycle over completedTasksHolder ul list items
    for (var i = 0; i < completedTasksHolder.children.length; i++) {
        //bind events to list item's children (taskIncomplete)
        bindTaskEvents(completedTasksHolder.children[i], taskIncomplete);
    }
</script>

</html>